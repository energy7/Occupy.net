<!doctype html>
<html lang="en">
<head>
  
  <meta charset="utf-8" />
  <title>The Occupy Network</title>
  
  <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="css/style.css" />
  
	<meta property="og:title" content="The Occupy Network"/>
	<meta property="og:site_name" content="Occupy.net"/>
	<meta property="og:description" content="Occupy.net provides people with software tools that align with the values of the #occupy movement. All of the tools offered here are free/libre/open source: part of the global information commons, maintained by communities, not corporations."/>
	<meta property="og:image" content="http://occupy.net/img/occupy-network.png"/>
	<meta property="og:url" content="http://occupy.net"/>
	<meta property="og:type" content="website"/>  
	
  <!-- scripts at bottom of page -->

</head>
<body class="homepage">
  
<script type="text/javascript" src="http://nav.occupy.net/occupynet_nav.js"></script>

<section id="content">


<section id="options" class="clearfix">
	<div class="option-logo">
		<h1>the <span class="occupy">occupy</span> network</h1>
	</div>
	<div class="option-combo">
	  <h3>Sort by:</h3>
	  <ul id="sort" class="option-set clearfix" data-option-key="sortBy">
	    <li><a href="#date" data-option-value="date" class="selected">date</a></li>
	    <li><a href="#alphabetical" data-option-value="alphabetical">name</a></li>
	    <li><a href="#mixed" data-option-value="random">random</a></li>
	  </ul>
	</div>
	<div class="option-combo">
	  <h3>Show:</h3>
	  <ul id="filter" class="option-set clearfix" data-option-key="filter">
	    <li><a href="#show-all" data-option-value="*" class="selected">all</a></li>
	    <li><a href="#knowledge" data-option-value=".wiki, .info, .welcome">knowledge</a></li>
	    <li><a href="#news" data-option-value=".news, .photo, .directory, .map">news</a></li>
	    <li><a href="#opportunities" data-option-value=".event, .campaign, .classified">opportunities</a></li>
	    <li><a href="#tools" data-option-value=".project">tools</a></li>
	  </ul>
	</div>
</section>


<div id="container" class="clearfix">
	
	<div class="welcome" data-number="1">
		<p class="title">Welcome!</p>
		<p class="text">Occupy.net provides people with software tools that align with the values of the #occupy movement. All of the tools offered here are free/libre/open source: part of the global information commons, maintained by communities, not corporations. <br><br>Would you like to help?</p>
	</div>
	
	<div class="welcome" data-number="20">
		<p class="title">What is Occupy?</p>
		<p class="text">It's more than just peaceful assemblies. When we occupy a space, or a topic, we spotlight it. We encourage people to investigate, understand, act, and change something. <br><br>What do you want to occupy?</p>
	</div>

	  
	<div class="project" data-number="2">
		<a href="https://wiki.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/wiki.png">
		<h3 class="title">Wiki</h3>
		<h5 class="status">alpha</h5>
		<div class="description sb-display">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
		consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
		cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
		proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
	</div>
	<div class="project" data-number="6">
		<a href="https://map.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/map.png">
		<h3 class="title">Map</h3>
		<h5 class="status">beta</h5>
		<div class="description sb-display"><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		quis nostrud exercitation ullamco laboris.</p>
		<iframe width="420" height="315" src="http://www.youtube.com/embed/_nVcJyvXrfA?rel=0" frameborder="0" allowfullscreen></iframe>
	</div>
	</div>
	<div class="project" data-number="3">
		<a href="https://notes.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/notes.png">
		<h3 class="title">Notes</h3>
		<h5 class="status">beta</h5>
		<div class="description sb-display"></div>
	</div>
	<div class="project" data-number="9">
		<a href="https://wiki.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/events.png">
		<h3 class="title">Events</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="project" data-number="8">
		<a href="https://campaigns.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/campaigns.png">
		<h3 class="title">Campaigns</h3>
		<h5 class="status">beta</h5>
	</div>
	<div class="project" data-number="10">
		<a href="https://wiki.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/forum.png">
		<h3 class="title">Forum</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="project" data-number="12">
		<a href="https://ideas.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/ideas.png">
		<h3 class="title">Ideas</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="project" data-number="11">
		<a href="https://lists.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/lists.png">
		<h3 class="title">Lists</h3>
		<h5 class="status">beta</h5>
	</div>
	<div class="project" data-number="5">
		<a href="https://news.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/news.png">
		<h3 class="title">News</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="project"  data-number="7">
		<a href="https://classifieds.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/classifieds.png">
		<h3 class="title">Classifieds</h3>
		<h5 class="status">beta</h5>
	</div>
	<div class="project" data-number="4">
		<a href="https://directory.occupy.net" class="btn launch sb-display-inline">Launch</a>
		<img class="icon" src="img/icons/directory.png">
		<h3 class="title">Directory</h3>
		<h5 class="status">beta</h5>
	</div>
	<div class="project" data-number="21" data-full="inline1">
		<img class="icon" src="img/icons/search.png">
		<h3 class="title">Search</h3>
		<h5 class="status">alpha</h5>
	</div>
</div>


<div id="feeds" style="display:none">
  <!--use semantic markup to define your feeds as data 
  jquery $("#feeds").find(".feed") turns this html into
  var feeds  = [{
    'url': 'http://feeds....',
    'type': 'news',
  },
  {
    'url': 'http://map.occupy.net',
    'type': 'map',
  }
  ]
and so on - an array of objects with "url" and "type" attributes  
  -->
  <div class="feed">
    <div class="url">http://newswire.occupy.net/channel/368/rss.xml</div>
    <div class="type">news</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <div class="feed">
    <div class="url">http://feeds.feedburner.com/interoccupy</div>
    <div class="type">news</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <div class="feed">
    <div class="url">http://classifieds.occupy.net/rss/all/</div>
    <div class="type">classified</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <div class="feed">
    <div class="url">http://wearethe99percent.tumblr.com/rss</div>
    <div class="type">photo</div>
    <div class="num">5</div>
  </div>
  <div class="feed">
    <div class="url">http://feeds.feedburner.com/OccupyDesign</div>
    <div class="type">thumbnail</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <!-- error in feed
  <div class="feed">
    <div class="url">http://occuprint.org/feed</div>
    <div class="type">thumbnail</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  -->
  <div class="feed">
    <div class="url">http://howtocamp.takethesquare.net/feed/</div>
    <div class="type">info</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <div class="feed">
    <div class="url">http://wiki.occupy.net/wiki/Special:NewsFeed?feed=rss&categories=Featured</div>
    <div class="type">wiki</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <div class="feed">
    <div class="url">http://directory.occupy.net/occupations/added.rss</div>
    <div class="type">directory</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>
  <div class="feed">
    <div class="url">http://map.occupy.net/feed/</div>
    <div class="type">map</div>
    <div class="num">5</div>
    <div class="days">7</div>
  </div>  
  <div class="feed">
    <div class="url">http://campaigns.occupy.net/feed/</div>
    <div class="type">campaign</div>
    <div class="num">5</div>
    <div class="days">31</div>
  </div>
</div>



<!-- jquery -->
<script src="js/jquery-1.7.1.min.js"></script>
<script src="https://www.google.com/jsapi"></script>
<script src="js/jquery.isotope.min.js"></script>


<!-- feed reader -->
<script type="text/javascript">
var $container = $('#container');
var feeds = google.load("feeds", "1");
google.setOnLoadCallback(function() {
  // First, set up click on tile => Shadowbox for pre-existing static tiles
  $('#container div').click( activateTile );

  $(function() {

    //grab your data from the html (semantic markup)
    $("#feeds").find(".feed").each(function(j,e){

    //extract url from html
    var url = $(e).find(".url").html();
    var feed = new google.feeds.Feed(url);
    
    //extract number of posts to show from html
    
    var num = $(e).find(".num").html();
    var days = $(e).find(".days").html();
    var nDays = parseInt(days);
    
    //extract type from html
    var type = $(e).find(".type").html();
    
    feed.setNumEntries(num);
    feed.load(function(result) {
	    if (!result.error) {
	      var container = document.getElementById("container");
	      for (var i = 0; i < result.feed.entries.length; i++) {
	        var entry = result.feed.entries[i];
	
	        var entryDate = new Date(entry.publishedDate);
		
	        // Check to see if feed item is outside of date range.
	        if (typeof(days) != 'null' && nDays > 0) {
		  var now = new Date;
		  var tsDelta = now - entryDate;
		  var daysAgo = Math.floor(tsDelta / (1000*60*60*24));

		  if (daysAgo > nDays) {
		    break;
		  } /* if */			
		} /* if */
	        
	        var div = document.createElement("div");
	        
	        // Construct contents of new <div> element for this item.
	        $(div).addClass(type);
	        $(div).addClass("feed-item");
	        
	        // <div><h3 class="title">...</h3></div>
	        var title = div.appendChild(document.createElement("h3"));
	        title.className = "title";
	        title.appendChild(document.createTextNode(entry.title));
	
	        // <div> ... <p class="date">...</p></div>
	        var date = div.appendChild(document.createElement("p"));
	        $(date).addClass("date");
	        
		var pubDate = entryDate.toLocaleDateString();
	        date.appendChild(document.createTextNode(pubDate));
	
	        // <div> ... <div class="content"> ... </div> </div>
	        // This needs to be a <div> because the item content may include
	        // block-level HTML tags, and hence cannot fit inside a <p>
	        
	        var content = div.appendChild(document.createElement("div"));
	        content.className = "content";
	        content.innerHTML = entry.content;
	        
	        var divInDOM = container.appendChild(div);
	        
	        // Clicking this sends the tile to the Shadowbox
	        $(divInDOM).click( activateTile );
	      };
	    };
	    $container.isotope('insert',$(".feed-item"))
    
  	
	  
	  });
    
  })

	  	  

	  //endfor
  });
});


//ISOTOPE 

$(document).ready(function(){
  $container.isotope({
    masonry: {
      columnWidth: 120
    },
    getSortData: {
      number: function( $elem ) {
        var number = $elem.hasClass('element') ? 
          $elem.find('.date').text() :
          $elem.attr('data-number');
        return parseInt( number, 10 );
      },
      alphabetical: function( $elem ) {
        var name = $elem.find('.title'),
            itemText = name.length ? name : $elem;
        return itemText.text();
      }
    },
    sortBy: 'date'
  });


  var $optionSets = $('#options .option-set'),
      $optionLinks = $optionSets.find('a');

  $optionLinks.click(function(){
    var $this = $(this);
    // don't proceed if already selected
    if ( $this.hasClass('selected') ) {
      return false;
    }
    //toggle "selected classes"
    var $optionSet = $this.parents('.option-set');
    $optionSet.find('.selected').removeClass('selected');
    $this.addClass('selected');

    // make option object dynamically, i.e. { filter: '.my-filter-class' }
    var options = {},
      key = $optionSet.attr('data-option-key'),
      value = $this.attr('data-option-value');
    // parse 'false' as false boolean
    value = value === 'false' ? false : value;
    options[ key ] = value;
    if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
      // changes in layout modes need extra logic
      changeLayoutMode( $this, options )
    } else {
      // otherwise, apply new options
      $container.isotope( options );
    }

    return false;
  });

  
})

</script>



<!-- shadowbox -->

<script src="shadowbox-3.0.3/shadowbox.js"></script>
<script>

Shadowbox.init({
    skipSetup: true
});

function activateTile () {
	var tile = $(this);
	
	// By default, we will display the contents of this <div> in the
	// lightbox.
	var player = 'html'; // Default
	var content = '<div id="layer">' + tile.html() + '</div>'; // Default
	
	// We can use HTML classes to determine what exactly we should be
	// feeding to Shadowbox.

	// if (tile.is('.photo')) {
	//	content = ...
	//	player = ...
	// } else if (tile.is('.info')) {
	// 	...
	// } else if (tile.is('.project')) {
	//	...
	// } /* if */
	
	Shadowbox.open({
	content: content,
	player: player,
	height: 400,
	width: 600
	});
}

</script>



<footer>
	<span>Brought to you by <a href="http://tech.occupy.net" target="_blank">Occupy Tech</a></span>
	<a href="https://github.com/occupynet/" target="_blank">Code</a>
	<a href="http://forum.occupy.net" target="_blank">Help</a> 
</footer>

</section> <!-- #content -->
  

</body>
</html>